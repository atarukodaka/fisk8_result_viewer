// locals: competition, category, segment, category_summaries
//   optional: category_results (only when 'category' specified)
/              segment_scores (only when 'segment' specified)

category_results ||= []
segment_scores ||= []

- content_for :title do
  | competition: 
  = [competition.name, category, segment].reject(&:blank?).join(' / ')

////////////////////////////////////////////////////////////////
h2 Competition Info

= Listtable.new(competition, [:name, :short_name, :competition_type, :city, :country, :site_url, :start_date, :end_date, :comment]).render(self, locals: { decorate: true })

////////////////////////////////////////////////////////////////
h2 Category / Segment

= category_summary.render(self, settings: { paging: false }, locals: {decorate: true})

////////////////////////////////////////////////////////////////
- if result_type.present?
  h2= (result_type == :category) ? "Category Result of #{category}" : "Segment Result of #{category}/#{segment}"

  = result_datatable.render(self, settings: {paging: false }, locals: { decorate: true})
    
